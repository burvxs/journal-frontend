(this["webpackJsonpreact-journal"]=this["webpackJsonpreact-journal"]||[]).push([[0],{33:function(e,t,a){e.exports=a(62)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(31),l=a.n(o),r=(a(38),a(39),a(8)),i=a(1),s="http://localhost:3000/auth/tasks",u="http://localhost:3000/auth/tasks",m=a(2),f=a.n(m),p=function(e){var t=Object(n.useState)(e.isComplete),a=Object(i.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(),s=Object(i.a)(r,2),m=s[0],p=s[1],d=Object(n.useState)(e.userTask),h=Object(i.a)(d,2),E=h[0],g=h[1],v=Object(n.useState)(e.priorityLevel),b=Object(i.a)(v,2),y=b[0],j=b[1],O=Object(n.useState)(e.solidifier),k=Object(i.a)(O,2),C=k[0],D=k[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),_=w[0],T=w[1],N=Object(n.useState)(!1),I=Object(i.a)(N,2),L=I[0],x=I[1],A=Object(n.useState)(!1),W=Object(i.a)(A,2),F=W[0],Y=W[1];Object(n.useEffect)((function(){e.isComplete?p("completed"):p("")}),[e.isComplete]);var G=function(){x(!L)},K=function(){Y(!F)},B=function(){T(!_)},P=function(e){13===e.keyCode&&B()},R=function(e){13===e.keyCode&&K()},M=function(e){13===e.keyCode&&G()},J=function(t){var a=t.target.value;f.a.patch("".concat(u,"/").concat(e.id),{priority:a}).then((function(e){j(e.data.priority_level)})).catch((function(e){return console.warn(e)}))},V=function(t){var a=t.target.value;console.log(a),f.a.patch("".concat(u,"/").concat(e.id),{solidifier:a}).then((function(e){D(e.data.solidifier),console.log("SETTING THE WHY? ",e.data)})).catch((function(e){return console.warn(e)}))},H=function(t){var a=t.target.value;f.a.patch("".concat(u,"/").concat(e.id),{task:a}).then((function(e){g(e.data.task),console.log("SETTING TASK ",e.data)})).catch((function(e){return console.warn(e)}))};return c.a.createElement("div",{className:"itemWrapper"},c.a.createElement("input",{type:"checkbox",checked:o||!1,onChange:function(t){l(!o),p(o?"":"completed"),f.a.patch("".concat(u,"/").concat(e.id),{is_complete:JSON.stringify(!o)}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)})),console.log(o)},className:"".concat(m," ")}),_?c.a.createElement("input",{type:"text",className:"".concat(m," "),onChange:H,autoFocus:!0,onKeyDown:P,onDoubleClick:B,defaultValue:E}):c.a.createElement("p",{className:"".concat(m," item"),onDoubleClick:B},E),L?c.a.createElement("input",{type:"text",className:"".concat(m," "),onChange:V,autoFocus:!0,onKeyDown:M,onDoubleClick:G,defaultValue:C}):c.a.createElement("p",{className:"".concat(m," item"),onDoubleClick:G},C),F?c.a.createElement("input",{type:"text",className:"".concat(m),onChange:J,autoFocus:!0,onKeyDown:R,onDoubleClick:K,defaultValue:y}):c.a.createElement("p",{className:"".concat(m),onDoubleClick:K},y))},d=a(17),h=a.n(d),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;if(Array.isArray(e)){var a=e.map((function(e){return c.a.createElement(c.a.Fragment,{key:e.id},c.a.createElement(p,{priorityLevel:e.priority_level,userTask:e.task,solidifier:e.solidifier,isComplete:e.completed,id:e.id,key:e.id}))}));return a}t()},g=function(){console.log("Tasks havent been retrieved from the server yet")},v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f.a.get("http://localhost:3000/auth/tasks",{params:e}).then((function(e){b()&&t(Object(r.a)(e.data.requested_task_set)),a&&a(e.data)})).catch((function(e){return console.warn(e)}))},b=function(){return"null"!==localStorage.getItem("jwt")},y=function(){var e=new Date,t=h.a.compile("MMM D YYYY");return h.a.format(e,t)},j=function(){return 4===(new Date).getDay()},O=a(15),k=a(18),C=function(e){var t=Object(n.useState)({priorityLevel:0,task:"",solidifier:""}),a=Object(i.a)(t,2),o=a[0],l=a[1],r=function(e){e.preventDefault(),l(Object(k.a)(Object(k.a)({},o),{},Object(O.a)({},e.target.name,e.target.value)))},u=function(){return console.log(o),""!==o.priorityLevel&&""!==o.solidifier&&""!==o.task};return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"taskForm",onSubmit:function(t){t.preventDefault(),console.log(u()),setTimeout((function(){u()&&"D2D"===e.taskType?f.a.post(s,{task:o.task,solidifier:o.solidifier,priorityLevel:o.priorityLevel,global:!1}).then((function(t){e.onCreate(t.data),console.log("POST DATA: ",t.data)})).catch((function(e){console.log(e)})):u()&&"SUBLIST"===e.taskType?f.a.post(s,{task:o.task,solidifier:o.solidifier,priorityLevel:o.priorityLevel,subListId:e.listId,global:!1}).then((function(t){e.onCreate(t.data),console.log("POST DATA: ",t.data)})).catch((function(e){console.log(e)})):u()&&"FLOATER"===e.taskType&&f.a.post(s,{task:o.task,solidifier:o.solidifier,priorityLevel:o.priorityLevel,global:!0}).then((function(t){e.onCreate(t.data),console.log("POST DATA: ",t.data)})).catch((function(e){console.log(e)}))}),500)}},c.a.createElement("input",{type:"checkbox",readOnly:!0}),c.a.createElement("input",{name:"task",placeholder:"Your task. Get it done",type:"text",onChange:r}),c.a.createElement("input",{name:"solidifier",placeholder:"The solidifier. eg Get fit",type:"text",onChange:r}),c.a.createElement("input",{type:"text",name:"priorityLevel",placeholder:"Your priority level",onChange:r}),c.a.createElement("button",{hidden:!0,type:"submit"})))},D=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(!1),u=Object(i.a)(s,2),m=u[0],f=u[1];return Object(n.useEffect)((function(){v({task_type:"D2D"},l),m||f(j()),m&&(e.history.push("/review"),f(!1))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{onCreate:function(e){void 0!==e&&l([].concat(Object(r.a)(o),[e]))},taskType:"D2D"}),E(o))},S=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],s=!1,u=function(){s&&v({task_type:"CATEGORISED",list_id:e.match.params.listId},l)};return Object(n.useEffect)((function(){return s=!0,u(),function(){s=!1}}),[]),Object(n.useEffect)((function(){return s=!0,u(),function(){s=!1}}),[e.match.params.listId]),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(C,{taskType:"SUBLIST",listId:e.match.params.listId,onCreate:function(e){void 0!==e&&l([].concat(Object(r.a)(o),[e]))}}),E(o))},w=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){f.a.get("http://localhost:3000/auth/user_sub_list").then((function(e){console.log(e.data),l(e.data.sub_list)})).catch((function(e){console.warn(e)}))}),[]);var d=function(t){e.history.push("/category_sub_list/".concat(e.match.params.category_id,"/").concat(t.target.id))};return c.a.createElement("div",{className:"sublistWrapper"},c.a.createElement("h3",null,"Your lists"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("input",{type:"text",onKeyDown:function(t){13===t.keyCode&&f.a.post("http://localhost:3000/auth/sub_lists",{title:m,category_id:e.match.params.category_id}).then((function(e){l([].concat(Object(r.a)(o),[e.data]))})).catch((function(e){console.warn(e)}))},onChange:function(e){return p(e.target.value)},placeholder:"Create a list"})),function(){var t=o.filter((function(t){return console.log(t),parseInt(t.category_id)===parseInt(e.match.params.category_id)}));return console.log(t),t.map((function(e){return c.a.createElement("li",{onClick:d,key:e.id,id:e.id},e.title)}))}()))},_=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],l=a[1],r=function(){var e=new Promise((function(e,t){f.a.get("http://localhost:3000/auth/trackers").then((function(t){console.log(t.data),e(t.data)})).catch((function(e){t(e)}))}));s(e)},s=function(e){e.then((function(e){e.incomplete_total!==o.incomplete_total&&l(e)})).catch((function(e){console.warn(e)}))};return Object(n.useEffect)((function(){f.a.get("http://localhost:3000/auth/trackers").then((function(e){l(e.data)})).catch((function(e){console.warn(e)})),setInterval(r,3e3)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("strong",null,"Grand Completed Total: "),o.grand_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Weekly Completed Total: "),o.weekly_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Daily Completed Total: "),o.daily_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Grand Incomplete Total: "),o.incomplete_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Weekly Incomplete Total: "),o.incomplete_weekly_total),c.a.createElement("li",null,c.a.createElement("strong",null,"Daily Incomplete Total: "),o.incomplete_daily_total)))},T=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),m=u[0],p=u[1],d=function(t){e.history.push("/category_sub_list/".concat(t.target.id))};return Object(n.useEffect)((function(){f.a.get("http://localhost:3000/auth/categories").then((function(e){l(e.data.user_categories),console.log(e.data)})).catch((function(e){console.warn(e)}))}),[]),c.a.createElement("div",{className:"categoryList"},c.a.createElement("h3",null,"Categories"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("input",{type:"text",onKeyDown:function(e){13===e.keyCode&&f.a.post("http://localhost:3000/auth/categories",{title:m}).then((function(e){l([].concat(Object(r.a)(o),[e.data]))}))},onChange:function(e){return p(e.target.value)},placeholder:"Create a category"})),function(){if(Array.isArray(o))return o.map((function(e){return c.a.createElement("li",{onClick:d,id:e.id,key:e.id},e.title)}))}()))},N=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],l=a[1];return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),f.a.post("http://localhost:3000/auth/reviews",{daily_review:o}).then((function(t){console.log(t),e.history.push("/D2D")})).catch((function(e){return console.warn(e)}))}},c.a.createElement("textarea",{name:"review",rows:"8",cols:"60",onChange:function(e){e.preventDefault(),l(e.target.value)}}),c.a.createElement("button",{type:"submit"},"Submit Review!")))},I=function(e){var t=Object(n.useState)("benny.purvis@hotmail.com"),a=Object(i.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)("chicken"),s=Object(i.a)(r,2),u=s[0],m=s[1],p=Object(n.useState)(!1),d=Object(i.a)(p,2),h=(d[0],d[1]);return c.a.createElement("div",null,c.a.createElement("h2",null,"Login"),c.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a={auth:{email:o,password:u}};f.a.post("http://localhost:3000/auth/login",a).then((function(t){console.log(t.data),localStorage.setItem("jwt",t.data.jwt),console.log(e.history.location),e.history.push("/D2D",{params:localStorage.getItem("jwt")})})).catch((function(e){h(!0),console.warn(e)})),console.log(localStorage.getItem("jwt"))}},c.a.createElement("label",null,"Email:"),c.a.createElement("input",{type:"text",onChange:function(e){return l(e.target.value)},autoComplete:"on",value:o}),c.a.createElement("label",null,"Password:"),c.a.createElement("input",{type:"password",onChange:function(e){return m(e.target.value)},value:u,autoComplete:"on"}),c.a.createElement("button",null,"Login")))},L=a(11),x=function(){return c.a.createElement("nav",{className:"topLevelNav"},c.a.createElement(L.b,{to:"/D2D",className:"D2DNav navItem"},"Day 2 Day"),c.a.createElement(L.b,{onClick:function(){localStorage.setItem("jwt","null")},to:"/login",className:"logout navItem"},"Logout"),c.a.createElement(L.b,{to:"/floaters",className:"floatingTasksNav navItem"},"Floating Tasks"))},A=a(3),W=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){v({task_type:"FLOATERS"},o)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{taskType:"FLOATER",onCreate:function(e){void 0!==e&&o([].concat(Object(r.a)(a),[e]))}}),E(a))},F=function(){return f.a.defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("jwt")),c.a.createElement(L.a,{basename:"journal-frontend"},c.a.createElement("div",null,c.a.createElement(A.a,{path:"/",component:x}),function(){if(j())return c.a.createElement(A.a,{exact:!0,path:"/review",render:function(e){if(b)return c.a.createElement("div",null,c.a.createElement(N,e));e.history.push("/login")}})}(),c.a.createElement(A.a,{path:"/D2D",render:function(e){if(b())return c.a.createElement("div",{className:"statSheet"},c.a.createElement(_,e));e.history.push("/login")}}),c.a.createElement(A.a,{exact:!0,path:"/floaters",render:function(e){if(b())return c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("div",{className:"taskContainer"},c.a.createElement(W,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(T,e)));e.history.push("/login")}}),c.a.createElement(A.a,{exact:!0,path:"/D2D",render:function(e){if(b())return c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("h3",{id:"currentDate"},y()),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(D,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(T,e)));e.history.push("/login")}}),c.a.createElement(A.a,{exact:!0,path:"/category_sub_list/:category_id",render:function(e){if(b())return c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("h3",{id:"currentDate"},y()),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(D,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(T,e),c.a.createElement(w,e)));e.history.push("/login")}}),c.a.createElement(A.a,{exact:!0,path:"/category_sub_list/:category_id/:listId",render:function(e){if(b())return c.a.createElement("div",null,c.a.createElement("div",{className:"contentWrapper"},c.a.createElement("div",{id:"spacer"}),c.a.createElement("div",{className:"taskContainer"},c.a.createElement(S,e)),c.a.createElement("div",{className:"listWrapper"},c.a.createElement(T,e),c.a.createElement(w,e))));e.history.push("/login")}}),c.a.createElement(A.a,{exact:!0,path:"/categorised/:listId",component:S}),c.a.createElement(A.a,{exact:!0,path:"/login",component:I})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.69eb1f13.chunk.js.map